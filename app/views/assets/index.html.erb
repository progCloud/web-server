<h1>Listing Uploads</h1>

<table class="table table-hover">
  <thead>
    <tr>
      <th></th>
      <th>Name</th>
      <th>Size</th>
      <th>Modified</th>
      <th>Is Public</th>
      <th colspan="2"></th>
    </tr>
  </thead>

  <tbody>

    <% @folders.each do |folder| %>
      <tr>
        <td><i class="fa fa-folder-open"></i></td>
        <td><%= link_to folder.name, folder_path(folder), class: "btn btn-link" %></td>
        <td><%= number_to_human_size(folder.assets.sum(:uploaded_file_file_size)) %></td>
        <td><%= folder.assets.maximum(:updated_at) %></td>
        <td></td>
        <td><%= link_to 'Edit', edit_folder_path(folder), class: "btn btn-link"  %></td>
        <td><%= link_to 'Destroy', folder, method: :delete, data: { confirm: 'Are you sure?' }, class: "btn btn-link" %></td>
      </tr>
    <% end %>

    <% @assets.each do |asset| %>
      <tr>
        <td><i class="fa <%=get_icon(asset.uploaded_file_content_type)%>"></i></td>
        <td><%= link_to asset.uploaded_file_file_name, asset.uploaded_file.url, class: "btn btn-link" %></td>
        <td><%= number_to_human_size(asset.uploaded_file_file_size, :precision => 2) %></td>
        <td><%= asset.updated_at %></td>
        <td><%= asset.is_public %></td>
        <td><%= link_to 'Edit', edit_asset_path(asset), class: "btn btn-link"  %></td>
        <td><%= link_to 'Destroy', asset, method: :delete, data: { confirm: 'Are you sure?' }, class: "btn btn-link" %></td>
      </tr>
    <% end %>

  </tbody>
</table>
<br>

<%= link_to 'Upload New File', new_asset_path, class: "btn btn-default" %>
<%= link_to 'Create New Folder', new_folder_path, class: "btn btn-default" %>